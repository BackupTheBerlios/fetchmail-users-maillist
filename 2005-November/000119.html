<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] Re: unsafe MDA procmail recommended by fetchmail
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2005-November/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Re%3A%20unsafe%20MDA%20procmail%20recommended%20by%20fetchmail&In-Reply-To=%3C20051114125358.GA2184%40session.bombay.retortsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000115.html">
   <LINK REL="Next"  HREF="000122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] Re: unsafe MDA procmail recommended by fetchmail</H1>
    <B>Sunil Shetye</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Re%3A%20unsafe%20MDA%20procmail%20recommended%20by%20fetchmail&In-Reply-To=%3C20051114125358.GA2184%40session.bombay.retortsoft.com%3E"
       TITLE="[fetchmail-users] Re: unsafe MDA procmail recommended by fetchmail">shetye at bombay.retortsoft.com
       </A><BR>
    <I>Mon Nov 14 13:53:58 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000115.html">[fetchmail-users] Re: Re: unsafe MDA procmail recommended by fetchmail
</A></li>
        <LI>Next message: <A HREF="000122.html">[fetchmail-users] Re: unsafe MDA procmail recommended by fetchmail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#119">[ date ]</a>
              <a href="thread.html#119">[ thread ]</a>
              <a href="subject.html#119">[ subject ]</a>
              <a href="author.html#119">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Quoting from Michelle Konzack's mail on Mon, Nov 07, 2005 at 07:29:19PM +0100:
&gt;<i> So right, I am using fetchmail + procmail + courier-imap
</I>&gt;<i> and sometimes They are errors and messages are going into
</I>&gt;<i> /var/mail/&lt;$USER&gt; which are inaccessible.  Specialy if I
</I>&gt;<i> have more then 17.000 $USER.
</I>&gt;<i> 
</I>&gt;<i> I think, procmail should have an config option to stop
</I>&gt;<i> this behaviour and return an error instead.
</I>&gt;<i> 
</I>&gt;<i> It is not funny to walk through 17.000 Mailboxes to get
</I>&gt;<i> the &quot;lost&quot; messages back into the $USER mailboxes.
</I>
procmail has a way of returning with an error. You may append the
lines below to your procmailrc for error handling.

==========================================================================

# if procmail has reached here, delivery has failed. return with a
# temporary failure code from &lt;sysexits.h&gt;.
# 75 = EX_TEMPFAIL
EXITCODE=75
:<i>0
</I>/dev/null
==========================================================================

WARNING: the above recipe works only when the program invoking
procmail handles the exit code gracefully. Otherwise, all your mails
will be trashed.

fetchmail will not delete these mails. Even, most SMTP servers should
queue up such mails for a few days before bouncing them back. But, if
you have other programs invoking procmail, you will need to check if
they handle such exit codes gracefully.

-- 
Sunil Shetye.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000115.html">[fetchmail-users] Re: Re: unsafe MDA procmail recommended by fetchmail
</A></li>
	<LI>Next message: <A HREF="000122.html">[fetchmail-users] Re: unsafe MDA procmail recommended by fetchmail
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#119">[ date ]</a>
              <a href="thread.html#119">[ thread ]</a>
              <a href="subject.html#119">[ subject ]</a>
              <a href="author.html#119">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
