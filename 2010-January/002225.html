<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] fetchmail certificates problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20certificates%20problem&In-Reply-To=%3C4B546A24.2090609%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002224.html">
   <LINK REL="Next"  HREF="002226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] fetchmail certificates problem</H1>
    <B>robert</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20certificates%20problem&In-Reply-To=%3C4B546A24.2090609%40gmail.com%3E"
       TITLE="[fetchmail-users] fetchmail certificates problem">mullinrobert at gmail.com
       </A><BR>
    <I>Mon Jan 18 15:03:16 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002224.html">[fetchmail-users] fetchmail certificates problem
</A></li>
        <LI>Next message: <A HREF="002226.html">[fetchmail-users] fetchmail certificates problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2225">[ date ]</a>
              <a href="thread.html#2225">[ thread ]</a>
              <a href="subject.html#2225">[ subject ]</a>
              <a href="author.html#2225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias Andree wrote:
&gt;<i> Am 18.01.2010 13:55, schrieb robert:
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> Also, there is a document README.SSL that ships with fetchmail (if it  
</I>&gt;&gt;<i> doesn't, complain to your distributor) - which explains the OP's  
</I>&gt;&gt;<i> &quot;certificate business&quot;. If people would use the existing documentation,  
</I>&gt;&gt;<i> that'd answer surely at least half of their questions without waiting for  
</I>&gt;&gt;<i> answers on lists...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- Matthias Andree _______________________________________________ 
</I>&gt;&gt;<i> fetchmail-users mailing list <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">fetchmail-users at lists.berlios.de</A> 
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">https://lists.berlios.de/mailman/listinfo/fetchmail-users</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> i've read, but not thoroughly understood, README.SSL
</I>&gt;&gt;<i> ca-certificates is already the newest version
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Please help me improve the document -- what exactly remained unclear? Also try
</I>&gt;<i> the latest version, currently at
</I>&gt;<i> &lt;<A HREF="http://mknod.org/svn/fetchmail/branches/BRANCH_6-3/README.SSL">http://mknod.org/svn/fetchmail/branches/BRANCH_6-3/README.SSL</A>&gt;; I think I
</I>&gt;<i> improved it after 6.3.8, but didn't check when exactly I did.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> startup fetchmail writes the following to log:
</I>&gt;&gt;<i> fetchmail: starting fetchmail 6.3.8 daemon
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> I can't support versions that old. Be sure that it was patched to close all
</I>&gt;<i> known security issues, else compile the newest version from scratch. Also
</I>&gt;<i> compile the newest version from scratch if the hints below don't help.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> fetchmail: Server certificate verification error: unable to get local 
</I>&gt;&gt;<i> issuer certificate
</I>&gt;&gt;<i> 7311:error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate 
</I>&gt;&gt;<i> verify failed:s3_clnt.c:951:
</I>&gt;&gt;<i> fetchmail: SSL connection failed.
</I>&gt;&gt;<i> fetchmail: socket error while fetching from 
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mullinrobert at gmail.com</A>@pop.gmail.com
</I>&gt;&gt;<i> fetchmail: Query status=2 (SOCKET)
</I>&gt;&gt;<i> fetchmail: sleeping at Mon 18 Jan 2010 06:25:26 AM CST for 600 seconds
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> .fetchmailrc:
</I>&gt;&gt;<i> set postmaster &quot;robert&quot;
</I>&gt;&gt;<i> set daemon 600
</I>&gt;&gt;<i> set logfile logs/fetchmail.log
</I>&gt;&gt;<i> poll pop.gmail.com with proto POP3
</I>&gt;&gt;<i>     user '<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mullinrobert at gmail.com</A>' there with password 'xxxxxxxxxxxxx' is 
</I>&gt;&gt;<i> robert here options ssl
</I>&gt;&gt;<i>     sslcertck sslproto ssl3 sslcertpath /home/robert/.certs/
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Try removing the sslcertpath option and its argument, or leave it in and specify
</I>&gt;<i> the default path (this is needed on some older fetchmail releases); where the
</I>&gt;<i> default path is usually /etc/ssl/certs or /usr/ssl/certs.
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;<i> fetchmail -V reports:
</I>&gt;&gt;<i> This is fetchmail release 6.3.8+GSS+NTLM+SDPS+SSL+NLS+KRB5.
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i> .......
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Fallback MDA: (none)
</I>&gt;&gt;<i> Linux acer1 2.6.24-19-generic #1 SMP Wed Aug 20 22:56:21 UTC 2008 i686 
</I>&gt;&gt;<i> GNU/Linux
</I>&gt;&gt;<i> Taking options from command line and /home/robert/.fetchmailrc
</I>&gt;&gt;<i> Poll interval is 600 seconds
</I>&gt;&gt;<i> Logfile is /home/robert/logs/fetchmail.log
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Idfile is /home/robert/.fetchids  ........................ I do not see 
</I>&gt;&gt;<i> a ~/.fetchids file ...should I have one?
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> No, not in your case. It would be generated if and only if: you were keeping
</I>&gt;<i> messages on the server AND you (or fetchmail) were using UIDL.
</I>&gt;<i>
</I>&gt;<i> HTH
</I>&gt;<i> _______________________________________________
</I>&gt;<i> fetchmail-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">fetchmail-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">https://lists.berlios.de/mailman/listinfo/fetchmail-users</A>
</I>&gt;<i>
</I>&gt;<i>   
</I>
changed sslcertpath to /etc/ssl/certs


log shows:
fetchmail: awakened at Mon 18 Jan 2010 07:56:01 AM CST
fetchmail: 1 message for <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mullinrobert at gmail.com</A> at pop.gmail.com (645 
octets).
fetchmail: reading message 
<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mullinrobert at gmail.com</A>@gmail-pop.l.google.com:1 of 1 (645 octets) (log 
message incomplete)fetchmail: connection to localhost:smtp 
[127.0.0.1/25] failed: Connection refused.
fetchmail: SMTP connect to localhost failed
fetchmail: SMTP transaction error while fetching from 
<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mullinrobert at gmail.com</A>@pop.gmail.com and delivering to SMTP host localhost
fetchmail: Query status=10 (SMTP)
fetchmail: sleeping at Mon 18 Jan 2010 07:56:03 AM CST for 60 seconds

shutdown firewall to determine if that was the cause of 127.0.01 refusal 
... nope ...
looks like I need to grant fetchmail access to 127.0.0.1/25 ... how do that?

i'm beginning to think it'd be best if I go back and recompile latest 
version ... what do you think?


once I get this up and running, i'll go back and make some editing 
suggestions for README.SSL

thanks.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002224.html">[fetchmail-users] fetchmail certificates problem
</A></li>
	<LI>Next message: <A HREF="002226.html">[fetchmail-users] fetchmail certificates problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2225">[ date ]</a>
              <a href="thread.html#2225">[ thread ]</a>
              <a href="subject.html#2225">[ subject ]</a>
              <a href="author.html#2225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
