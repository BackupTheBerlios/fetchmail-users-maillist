<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20%5BPATCH%5D%20Re%3A%20IMAP%20problem%20%28fetchmail%206.3.1-pre1%29&In-Reply-To=%3C20051217235706.GA3685%40jdc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000181.html">
   <LINK REL="Next"  HREF="000185.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)</H1>
    <B>Jason White</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20%5BPATCH%5D%20Re%3A%20IMAP%20problem%20%28fetchmail%206.3.1-pre1%29&In-Reply-To=%3C20051217235706.GA3685%40jdc%3E"
       TITLE="[fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)">jasonjgw at internode.on.net
       </A><BR>
    <I>Sun Dec 18 00:57:06 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000181.html">[fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)
</A></li>
        <LI>Next message: <A HREF="000185.html">[fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#182">[ date ]</a>
              <a href="thread.html#182">[ thread ]</a>
              <a href="subject.html#182">[ subject ]</a>
              <a href="author.html#182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Dec 17, 2005 at 03:52:30PM +0100, Matthias Andree wrote:
&gt;<i> Sunil Shetye &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">shetye at bombay.retortsoft.com</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;<i> &gt; Matthias, please consider this patch for 6.3.1.
</I>&gt;<i> 
</I>&gt;<i> I wonder if it's the right thing to do, or if the server of the day
</I>&gt;<i> might return the flags or some other information along with the size. I
</I>&gt;<i> had a quick glance at the standard, and I'm not at all sure if it's
</I>&gt;<i> allowed for the server to return excess information. 
</I>There is a statemenn section 2.2.2, but I am not sure whether it is meant to
cover this case:
&quot;   A client MUST be prepared to accept any server response at all times.
   This includes server data that was not requested.  Server data SHOULD
   be recorded, so that the client can reference its recorded copy
   rather than sending a command to the server to request the data.  In
   the case of certain server data, the data MUST be recorded.

   This topic is discussed in greater detail in the Server Responses
   section.&quot;

I couldn't find any more specific guidance in section 7, but then I didn't
read it carefully. Also, this could be read as implying only to entire
responses and not to additional data included within responses that are
requested.

Note also that in Fetchmail, imap_fetch_body() loops until it finds the
required response.
&gt;<i> 
</I>&gt;<i> At any case, if a server does that, we're dead in the water again. I'd
</I>&gt;<i> rather use a bit more of a parser to take the fetch response apart.
</I>I agree with this and would be interested in an interpretation of the RFC as
well regarding whether this is expected of the client. At least it might be
considered good practice; Fetchmail already contains code to deal with the
eccentricities of various servers and it wouldn't hurt to generalize it here
if you consider it appropriate to do so.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000181.html">[fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)
</A></li>
	<LI>Next message: <A HREF="000185.html">[fetchmail-users] [PATCH] Re: IMAP problem (fetchmail 6.3.1-pre1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#182">[ date ]</a>
              <a href="thread.html#182">[ thread ]</a>
              <a href="subject.html#182">[ subject ]</a>
              <a href="author.html#182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
