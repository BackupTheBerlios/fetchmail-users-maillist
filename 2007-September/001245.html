<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] fetchmail continuously fetching already	fetched imap email
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20continuously%20fetching%20already%0A%09fetched%20imap%20email&In-Reply-To=%3Ce6cca1c60709101254p1904cf22va8da618e2aca39e0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001244.html">
   <LINK REL="Next"  HREF="001246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] fetchmail continuously fetching already	fetched imap email</H1>
    <B>Lee Hinman</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20continuously%20fetching%20already%0A%09fetched%20imap%20email&In-Reply-To=%3Ce6cca1c60709101254p1904cf22va8da618e2aca39e0%40mail.gmail.com%3E"
       TITLE="[fetchmail-users] fetchmail continuously fetching already	fetched imap email">matthew.hinman at gmail.com
       </A><BR>
    <I>Mon Sep 10 21:54:22 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001244.html">[fetchmail-users] fetchmail continuously fetching already	fetched imap email
</A></li>
        <LI>Next message: <A HREF="001246.html">[fetchmail-users] fetchmail continuously fetching already	fetched imap email
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1245">[ date ]</a>
              <a href="thread.html#1245">[ thread ]</a>
              <a href="subject.html#1245">[ subject ]</a>
              <a href="author.html#1245">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/10/07, Rob MacGregor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">rob.macgregor at gmail.com</A>&gt; wrote:
&gt;<i> On 9/10/07, Lee Hinman &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">matthew.hinman at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi fetchmail-users,
</I>&gt;<i> &gt; I'm having some trouble getting fetchmail not to keep fetching the
</I>&gt;<i> &gt; same IMAP messages over and over and over again. Here is what I have
</I>&gt;<i> &gt; in my .fetchmailrc:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; poll corpusmx10c.corp.emc.com
</I>&gt;<i> &gt; with proto IMAP
</I>&gt;<i> &gt; user '**********'
</I>&gt;<i> &gt; there with password '**********'
</I>&gt;<i> &gt; is '*********' here
</I>&gt;<i> &gt; mda &quot;/usr/bin/procmail -d %T&quot;
</I>&gt;<i> &gt; options keep
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there an option that I am setting incorrectly that makes it ignore
</I>&gt;<i> &gt; the messages that have already been downloaded? Is &quot;keep&quot; the right
</I>&gt;<i> &gt; option? (I don't want it to delete the messages, because I'd like to
</I>&gt;<i> &gt; read the messages from a different computer also).
</I>&gt;<i>
</I>&gt;<i> Version of fetchmail?
</I>&gt;<i>
</I>&gt;<i> Transcript as specified in the FAQ
</I>&gt;<i> (<A HREF="http://www.fetchmail.info/fetchmail-FAQ.html#G3">http://www.fetchmail.info/fetchmail-FAQ.html#G3</A> - &quot;fetchmail
</I>&gt;<i> --nosyslog --nodetach -vvv&quot;, along with your usual command line
</I>&gt;<i> options).
</I>&gt;<i>
</I>&gt;<i> Also very useful would be the output from adding &quot;--configdump&quot; to
</I>&gt;<i> your usual command line options.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>                  Please keep list traffic on the list.
</I>&gt;<i>
</I>&gt;<i> Rob MacGregor
</I>&gt;<i>       Whoever fights monsters should see to it that in the process he
</I>&gt;<i>         doesn't become a monster.                  Friedrich Nietzsche
</I>&gt;<i> _______________________________________________
</I>&gt;<i> fetchmail-users mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">fetchmail-users at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">https://lists.berlios.de/mailman/listinfo/fetchmail-users</A>
</I>&gt;<i>
</I>
Here in my configdump:

[<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hinmanm at Euclid</A>] $ fetchmail --nosyslog --nodetach -vvv --configdump
                                                         ~
TRUE=1; FALSE=0

os_type = 'generic'
feature_options = ('pop3','imap','gssapi','kerberos','etrn','odmr','ssl',)
# Start of configuration initializer
fetchmailrc = {
    'poll_interval':0,
    &quot;logfile&quot;:None,
    &quot;idfile&quot;:&quot;/Users/hinmanm/.fetchids&quot;,
    &quot;postmaster&quot;:&quot;hinmanm&quot;,
    'bouncemail':TRUE,
    'spambounce':FALSE,
    &quot;properties&quot;:None,
    'invisible':FALSE,
    'showdots':TRUE,
    'syslog':FALSE,
    # List of server entries begins here
    'servers': [
     # Entry for site `corpusmx10c.corp.emc.com' begins:
     {
         &quot;pollname&quot;:&quot;corpusmx10c.corp.emc.com&quot;,
         'active':TRUE,
         &quot;via&quot;:None,
         &quot;protocol&quot;:&quot;IMAP&quot;,
         &quot;service&quot;:None,
         'timeout':300,
         'interval':0,
         &quot;envelope&quot;:&quot;Received&quot;,
         'envskip':0,
         &quot;qvirtual&quot;:None,
         &quot;auth&quot;:&quot;any&quot;,
         'dns':TRUE,
         'uidl':FALSE,
         &quot;aka&quot;:[],
         &quot;localdomains&quot;:[],
         &quot;plugin&quot;:None,
         &quot;plugout&quot;:None,
         &quot;principal&quot;:None,
         'tracepolls':FALSE,
         'users': [
        {
            &quot;remote&quot;:&quot;*********&quot;,
            &quot;password&quot;:&quot;*********&quot;,
            'localnames':[&quot;hinmanm&quot;],
            'fetchall':FALSE,
            'keep':TRUE,
            'flush':FALSE,
            'limitflush':FALSE,
            'rewrite':TRUE,
            'stripcr':TRUE,
            'forcecr':FALSE,
            'pass8bits':FALSE,
            'dropstatus':FALSE,
            'dropdelivered':FALSE,
            'mimedecode':FALSE,
            'idle':FALSE,
            &quot;mda&quot;:&quot;/usr/bin/procmail -d %T&quot;,
            &quot;bsmtp&quot;:None,
            'lmtp':FALSE,
            &quot;preconnect&quot;:None,
            &quot;postconnect&quot;:None,
            'limit':0,
            'warnings':3600,
            'fetchlimit':0,
            'fetchsizelimit':100,
            'fastuidl':4,
            'batchlimit':0,
            'ssl':FALSE,
            &quot;sslkey&quot;:None,
            &quot;sslcert&quot;:None,
            &quot;sslproto&quot;:None,
            'sslcertck':FALSE,
            &quot;sslcertpath&quot;:None,
            &quot;sslfingerprint&quot;:None,
            'expunge':0,
            &quot;properties&quot;:None,
            &quot;smtphunt&quot;:[&quot;localhost&quot;],
            &quot;fetchdomains&quot;:[],
            &quot;smtpaddress&quot;:None,
            &quot;smtpname&quot;:None,
            'antispam':'',
            &quot;mailboxes&quot;:[],
        }
        ,           ]
     }
    ]
}
# End of initializer


And the output of fetchmail --nosyslog --nodetach -vvv:
fetchmail: 6.3.8 querying corpusmx10c.corp.emc.com (protocol IMAP) at
Mon, 10 Sep 2007 13:49:50 -0600 (MDT): poll started
Trying to connect to 128.221.14.108/143...connected.
fetchmail: IMAP&lt; * OK Microsoft Exchange Server 2003 IMAP4rev1 server
version 6.5.7638.1 (CORPUSMX10C.corp.emc.com) ready.
fetchmail: IMAP&gt; A0001 CAPABILITY
fetchmail: IMAP&lt; * CAPABILITY IMAP4 IMAP4rev1 IDLE LOGIN-REFERRALS
MAILBOX-REFERRALS NAMESPACE LITERAL+ UIDPLUS CHILDREN AUTH=NTLM
fetchmail: IMAP&lt; A0001 OK CAPABILITY completed.
fetchmail: Protocol identified as IMAP4 rev 1
fetchmail: corpusmx10c.corp.emc.com: opportunistic upgrade to TLS
failed, trying to continue
fetchmail: IMAP&gt; A0002 NOOP
fetchmail: IMAP&lt; A0002 OK NOOP completed.
fetchmail: IMAP&gt; A0003 LOGIN &quot;*********&quot; *
fetchmail: IMAP&lt; A0003 OK LOGIN completed.
fetchmail: selecting or re-polling default folder
fetchmail: IMAP&gt; A0004 SELECT &quot;INBOX&quot;
fetchmail: IMAP&lt; * 299 EXISTS
fetchmail: IMAP&lt; * 0 RECENT
fetchmail: IMAP&lt; * FLAGS (\Seen \Answered \Flagged \Deleted \Draft $MDNSent)
fetchmail: IMAP&lt; * OK [PERMANENTFLAGS (\Seen \Answered \Flagged
\Deleted \Draft $MDNSent)] Permanent flags
fetchmail: IMAP&lt; * OK [UIDVALIDITY 3890] UIDVALIDITY value
fetchmail: IMAP&lt; A0004 OK [READ-WRITE] SELECT completed.
fetchmail: 299 messages waiting after first poll
fetchmail: IMAP&gt; A0005 SEARCH UNSEEN NOT DELETED
fetchmail: IMAP&lt; * SEARCH
fetchmail: IMAP&lt; A0005 OK SEARCH completed.
299 messages (299 seen) for corp\hinmam at corpusmx10c.corp.emc.com.
skipping message corp\<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hinmam at corpusmx10c.corp.emc.com</A>:1 not flushed
skipping message corp\<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hinmam at corpusmx10c.corp.emc.com</A>:2 not flushed
... skipped because there are lots of messages ...
skipping message corp\<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hinmam at corpusmx10c.corp.emc.com</A>:298 not flushed
skipping message corp\<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hinmam at corpusmx10c.corp.emc.com</A>:299 not flushed
fetchmail: IMAP&gt; A0006 LOGOUT
fetchmail: IMAP&lt; * BYE Microsoft Exchange Server 2003 IMAP4rev1 server
version 6.5.7638.1 signing off.
fetchmail: IMAP&lt; A0006 OK LOGOUT completed.
fetchmail: 6.3.8 querying corpusmx10c.corp.emc.com (protocol IMAP) at
Mon, 10 Sep 2007 13:49:52 -0600 (MDT): poll completed
fetchmail: not swapping UID lists, no UIDs seen this query
fetchmail: Query status=1 (NOMAIL)
fetchmail: Deleting fetchids file.
fetchmail: normal termination, status 1
fetchmail: Deleting fetchids file.


And fetchmail is normally called like so:
fetchmail -a $EXTRAARG &gt;/dev/null 2&gt;&amp;1
where $EXTRAARG can be &quot;-v&quot; or not

And the version of fetchmail from fetchmail -V:
This is fetchmail release 6.3.8+GSS+SSL+KRB4+KRB5.

Copyright (C) 2002, 2003 Eric S. Raymond
Copyright (C) 2004 Matthias Andree, Eric S. Raymond, Robert M. Funk,
Graham Wilson
Copyright (C) 2005-2006 Sunil Shetye
Copyright (C) 2005-2007 Matthias Andree
Fetchmail comes with ABSOLUTELY NO WARRANTY. This is free software, and you
are welcome to redistribute it under certain conditions. For details,
please see the file COPYING in the source or documentation directory.

Fallback MDA: (none)
Darwin Euclid.local 8.10.1 Darwin Kernel Version 8.10.1: Wed May 23
16:33:00 PDT 2007; root:xnu-792.22.5~1/RELEASE_I386 i386 i386
Taking options from command line and /Users/hinmanm/.fetchmailrc
Idfile is /Users/hinmanm/.fetchids
Fetchmail will show progress dots even in logfiles.
Fetchmail will forward misaddressed multidrop messages to hinmanm.
Options for retrieving from *********@corpusmx10c.corp.emc.com:
  True name of server is corpusmx10c.corp.emc.com.
  Protocol is IMAP.
  All available authentication methods will be tried.
  Server nonresponse timeout is 300 seconds (default).
  Default mailbox selected.
  Only new messages will be retrieved (--all off).
  Fetched messages will be kept on the server (--keep on).
  Old messages will not be flushed before message retrieval (--flush off).
  Oversized messages will not be flushed before message retrieval
(--limitflush off).
  Rewrite of server-local addresses is enabled (--norewrite off).
  Carriage-return stripping is enabled (stripcr on).
  Carriage-return forcing is disabled (forcecr off).
  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).
  MIME decoding is disabled (mimedecode off).
  Idle after poll is disabled (idle off).
  Nonempty Status lines will be kept (dropstatus off)
  Delivered-To lines will be kept (dropdelivered off)
  Fetch message size limit is 100 (--fetchsizelimit 100).
  Do binary search of UIDs during 3 out of 4 polls (--fastuidl 4).
  Messages will be delivered with &quot;/usr/bin/procmail -d %T&quot;.
  Single-drop mode: 1 local name recognized.
  No UIDs saved from this host.

I believe this is the information, is there anything else that would
be helpful to you?

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001244.html">[fetchmail-users] fetchmail continuously fetching already	fetched imap email
</A></li>
	<LI>Next message: <A HREF="001246.html">[fetchmail-users] fetchmail continuously fetching already	fetched imap email
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1245">[ date ]</a>
              <a href="thread.html#1245">[ thread ]</a>
              <a href="subject.html#1245">[ subject ]</a>
              <a href="author.html#1245">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
