<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] Messages not downloaded
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Messages%20not%20downloaded&In-Reply-To=%3C46E18469.10308%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001237.html">
   <LINK REL="Next"  HREF="001239.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] Messages not downloaded</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Messages%20not%20downloaded&In-Reply-To=%3C46E18469.10308%40gmx.de%3E"
       TITLE="[fetchmail-users] Messages not downloaded">matthias.andree at gmx.de
       </A><BR>
    <I>Fri Sep  7 19:03:37 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001237.html">[fetchmail-users] Messages not downloaded
</A></li>
        <LI>Next message: <A HREF="001239.html">[fetchmail-users] Messages not downloaded
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1240">[ date ]</a>
              <a href="thread.html#1240">[ thread ]</a>
              <a href="subject.html#1240">[ subject ]</a>
              <a href="author.html#1240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Frederic Marchal schrieb:

&gt;<i> What happens is that fetchmail starts retrieving the mails and marks 
</I>&gt;<i> them for deletion as soon as they are delivered to the MDA. Then, at 
</I>&gt;<i> some point, the connection break (usually a timeout) and the server 
</I>&gt;<i> assumes that it should not delete the mails that were marked so (it is 
</I>&gt;<i> the expected behaviour).
</I>&gt;<i> 
</I>&gt;<i> When fetchmail starts the next poll, it sees all the old messages and do 
</I>&gt;<i> not download nor delete them again. Instead it leaves them on the server.
</I>
Fr&#233;d&#233;ric,

your observation is correct. I have discussed with Sunil Shetye how we can
mark these messages &quot;deleted&quot; so fetchmail re-does the deletions at the
next cycle, but there have been open issues we haven't answered at the
time, and finding a solution was shelved for various reasons, not the least
of which that it was rather intrusive and had unresolved borderline issues.

One way to contain this with respect to the message count is --expunge
(which forces the deletion to become effective by logging out and in again
for POP3 or sending an EXPUNGE command for IMAP), another one --fetchlimit,
as you suggest (I'm not quoting that) which proceeds to the next server
after a given number of messages downloaded.

The options aren't quite the same and I'm not guaranteeing anything for
older fetchmail version, but either should help with &quot;mail reappearing
after broken connection&quot; issues to some extent.


-- Matthias

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001237.html">[fetchmail-users] Messages not downloaded
</A></li>
	<LI>Next message: <A HREF="001239.html">[fetchmail-users] Messages not downloaded
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1240">[ date ]</a>
              <a href="thread.html#1240">[ thread ]</a>
              <a href="subject.html#1240">[ subject ]</a>
              <a href="author.html#1240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
