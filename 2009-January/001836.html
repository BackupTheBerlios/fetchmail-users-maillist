<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] multidrop mailinglist config prob
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20multidrop%20mailinglist%20config%20prob&In-Reply-To=%3C20090128093810.GC32066%40merlin.emma.line.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001835.html">
   <LINK REL="Next"  HREF="001837.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] multidrop mailinglist config prob</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20multidrop%20mailinglist%20config%20prob&In-Reply-To=%3C20090128093810.GC32066%40merlin.emma.line.org%3E"
       TITLE="[fetchmail-users] multidrop mailinglist config prob">matthias.andree at gmx.de
       </A><BR>
    <I>Wed Jan 28 10:38:10 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001835.html">[fetchmail-users] (fwd) multidrop mailinglist config prob
</A></li>
        <LI>Next message: <A HREF="001837.html">[fetchmail-users] multidrop mailinglist config prob cont.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1836">[ date ]</a>
              <a href="thread.html#1836">[ thread ]</a>
              <a href="subject.html#1836">[ subject ]</a>
              <a href="author.html#1836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dan wrote:

&gt;<i> We have a multidrop fetchmail server with a user who is subscribed to
</I>&gt;<i> a mailing list but fm isn't directing the mail to that user and
</I>&gt;<i> instead the postmaster is receiving that mail. The Envelope line in
</I>&gt;<i> our fetchmailrc currently looks like this:
</I>&gt;<i> 
</I>&gt;<i> envelope &quot;X-Envelope-To&quot;
</I>
Fetchmail matches this header only in domains it recognizes. That are
domains in &quot;poll&quot;, &quot;via&quot;, &quot;aka&quot; or - with different semantics -
&quot;localdomains&quot; statements. Seems the manpage needs to improve in this
respect to make clearer how fetchmail works, and not to mislead people
(aka seems to have to do with DNS if you look at the manpage, but in
fact it's used to avoid DNS, for instance).

&gt;<i> Here is an example header from one of the mailing list postings that I
</I>&gt;<i> pulled off the old email server:
</I>&gt;<i> 
</I>&gt;<i> -----------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> Received: from 127.0.0.1 [127.0.0.1] by hulme-grammar.oldham.sch.uk [192.168.0.1]
</I>&gt;<i>        with DomainPOP (MDaemon.PRO.v5.0.5.R)
</I>&gt;<i>        for &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at hulme-grammar.oldham.sch.uk</A>&gt;; Mon, 26 Jan 2009 10:01:17 +0000
</I>&gt;<i> Received: from n36d.bullet.mail.sp1.yahoo.com ([66.163.168.190])
</I>&gt;<i>        by bastion01.mail.zen.co.uk with smtp (Exim 4.63)
</I>&gt;<i>        (envelope-from &lt;sentto-1222374-67400-1232963719-Librarian=<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hulme-grammar.oldham.sch.uk at returns.groups.yahoo.com</A>&gt;)
</I>&gt;<i>        id 1LROBd-0001IG-AI
</I>&gt;<i>        for <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">Librarian at hulme-grammar.oldham.sch.uk</A>; Mon, 26 Jan 2009 09:55:23 +0000
</I>&gt;<i> DomainKey-Signature: a=rsa-sha1; q=dns; c=nofws; s=lima; d=yahoogroups.com;
</I>&gt;<i>        b=lTLk2h95ZlLSYdx+Ac3grLeIcziGPa4qd0lwZP7bDw3DkRE+c4jrMzEtaU3kSQGOqwIjNMROTN0a+aQs3dlXhg2PcEwjiqFf/IwzjSXsEa5jpVC2qXbIS8szGSuMl+vd;
</I>&gt;<i> Received: from [69.147.65.147] by n36.bullet.mail.sp1.yahoo.com with NNFMP; 26 Jan 2009 09:55:20 -0000
</I>&gt;<i> Received: from [66.218.67.108] by t10.bullet.mail.sp1.yahoo.com with NNFMP; 26 Jan 2009 09:55:20 -0000
</I>&gt;<i> X-Yahoo-Newman-Id: 1222374-m67400
</I>&gt;<i> X-Sender: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">carolineroche1 at hotmail.co.uk</A>
</I>&gt;<i> X-Apparently-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>
</I>&gt;<i> X-Received: (qmail 25487 invoked from network); 26 Jan 2009 09:55:17 -0000
</I>&gt;<i> X-Received: from unknown (66.218.67.97)
</I>&gt;<i>  by m44.grp.scd.yahoo.com with QMQP; 26 Jan 2009 09:55:17 -0000
</I>&gt;<i> X-Received: from unknown (HELO col0-omc4-s19.col0.hotmail.com) (65.55.34.221)
</I>&gt;<i>  by mta18.grp.scd.yahoo.com with SMTP; 26 Jan 2009 09:55:17 -0000
</I>&gt;<i> X-Received: from COL106-W7 ([65.55.34.199]) by col0-omc4-s19.col0.hotmail.com with Microsoft SMTPSVC(6.0.3790.3959);
</I>&gt;<i>         Mon, 26 Jan 2009 01:55:17 -0800
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">COL106-W771FCED958868685DEA34C1CA0 at phx.gbl</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>&gt;
</I>&gt;<i> Importance: Normal
</I>&gt;<i> X-OriginalArrivalTime: 26 Jan 2009 09:55:17.0655 (UTC) FILETIME=[315CA270:01C97F9C]
</I>&gt;<i> X-Originating-IP: 65.55.34.221
</I>&gt;<i> X-eGroups-Msg-Info: 1:12:0:0:0
</I>&gt;<i> From: Caroline Roche &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">carolineroche1 at hotmail.co.uk</A>&gt;
</I>&gt;<i> X-Yahoo-Profile: cmlroche
</I>&gt;<i> Sender: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>
</I>&gt;<i> MIME-Version: 1.0
</I>&gt;<i> Mailing-List: list <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>; contact <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln-owner at yahoogroups.com</A>
</I>&gt;<i> Delivered-To: mailing list <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>
</I>&gt;<i> List-Id: &lt;sln.yahoogroups.com&gt;
</I>&gt;<i> Precedence: bulk
</I>&gt;<i> List-Unsubscribe: &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln-unsubscribe at yahoogroups.com</A>&gt;
</I>&gt;<i> Date: Mon, 26 Jan 2009 09:55:17 +0000
</I>&gt;<i> Subject: [sln] Plagiarism blog post
</I>&gt;<i> Reply-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>
</I>&gt;<i> X-Yahoo-Newman-Property: groups-email-tradt-m
</I>&gt;<i> Content-Type: text/plain; charset=US-ASCII
</I>&gt;<i> Content-Transfer-Encoding: 7bit
</I>&gt;<i> X-ZenAWL-Match: false
</I>&gt;<i> X-Zen-Test-Spam-Score: 0
</I>&gt;<i> X-Zen-Test-Spam-Bar: (/)
</I>&gt;<i> X-Originating-Bastion01-IP: [66.163.168.190]
</I>&gt;<i> X-Zen-Parent: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at hulme-grammar.oldham.sch.uk</A>
</I>&gt;<i> X-Envelope-From: sentto-1222374-67400-1232963719-Librarian=<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">hulme-grammar.oldham.sch.uk at returns.groups.yahoo.com</A>
</I>&gt;<i> X-Envelope-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at hulme-grammar.oldham.sch.uk</A>
</I>&gt;<i> X-Apparently-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at hulme-grammar.oldham.sch.uk</A>
</I>&gt;<i> X-Zen-Loop2: 97e939bb88e7420eee7d3b19376753d2
</I>&gt;<i> X-Zen-Loop: aabaa7aa22d3e8f7f9df67db27502029
</I>&gt;<i> X-Zen-Stored: hausdorff.zen.co.uk/1LROBf-0004Qr-Qg/2009-01-26 09:55:23
</I>&gt;<i> X-MDRemoteIP: 127.0.0.1
</I>&gt;<i> X-MDRcpt-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at hulme-grammar.oldham.sch.uk</A>
</I>&gt;<i> X-MDaemon-Deliver-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at hulme-grammar.oldham.sch.uk</A>
</I>&gt;<i> 
</I>&gt;<i> -------------------------------------
</I>&gt;<i> 
</I>&gt;<i> I used imapcopy to copy all the mail off the old mailserver onto the
</I>&gt;<i> new and the headers in the transffered mailinglist postings look like
</I>&gt;<i> this when I open them under Citadel:
</I>&gt;<i> 
</I>&gt;<i> -----------------------------------------
</I>&gt;<i> 
</I>&gt;<i> Return-Path: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">rcsh.hinks at rgfl.org</A>
</I>&gt;<i> To: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">sln at yahoogroups.com</A>&gt;
</I>&gt;<i> Date: Tue, 27 Jan 2009 14:31:44 -0000
</I>&gt;<i> Subject: RE: [sln] Books by Colin Bateman - recommendations please
</I>&gt;<i> Envelope-To: <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">admin at hulme-grammar.oldham.sch.uk</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">458D9A8A896D26478EF3280BCFE4B08F01885949 at RLGEX2.rgfl.org</A>&gt;
</I>&gt;<i> From: &quot;rcsh.hinks&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">rcsh.hinks at rgfl.org</A>&gt;
</I>&gt;<i> Organization: Hulme Mail Server
</I>&gt;<i> 
</I>&gt;<i> -------------------------------
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">admin at hulme...</A> is our postmaster address. Thats where these mails end
</I>&gt;<i> up but of course we want them to be delivered to <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">librarian at ....</A>
</I>
So the envelope header NAME has apparently changed from X-Envelope-To to
Envelope-To.

&gt;<i> I've read the fetchmail man page and according to that whatever I set
</I>&gt;<i> as the envelope header should take preference. If you look at the full
</I>&gt;<i> headers off the old mail server you can see that there is an
</I>&gt;<i> X-Envelope-To header so why is fetchmail ignoring/ missing this?
</I>
Domains? fetchmail -vvv can shed some light on if fetchmail recognizes
the header and the domain.

&gt;<i> I think a kludgey solution might be to use the is or to commands to
</I>&gt;<i> redirect emails sent to sln to librarian but of course that would then
</I>&gt;<i> send all e-mail received from that list to that one user so that
</I>&gt;<i> wouldn't work if more than one user wants to subscribe to the same
</I>&gt;<i> mailing list.
</I>
I for one wouldn't call such an approach a &quot;solution&quot; :-)

HTH

-- 
Matthias Andree

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001835.html">[fetchmail-users] (fwd) multidrop mailinglist config prob
</A></li>
	<LI>Next message: <A HREF="001837.html">[fetchmail-users] multidrop mailinglist config prob cont.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1836">[ date ]</a>
              <a href="thread.html#1836">[ thread ]</a>
              <a href="subject.html#1836">[ subject ]</a>
              <a href="author.html#1836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
