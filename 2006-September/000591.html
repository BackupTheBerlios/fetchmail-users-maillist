<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] query state=2 (SOCKET)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20query%20state%3D2%20%28SOCKET%29&In-Reply-To=%3C43ea8d070609130110o4183c8b9s18cc566f1361d3ed%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000590.html">
   <LINK REL="Next"  HREF="000592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] query state=2 (SOCKET)</H1>
    <B>Rob MacGregor</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20query%20state%3D2%20%28SOCKET%29&In-Reply-To=%3C43ea8d070609130110o4183c8b9s18cc566f1361d3ed%40mail.gmail.com%3E"
       TITLE="[fetchmail-users] query state=2 (SOCKET)">rob.macgregor at gmail.com
       </A><BR>
    <I>Wed Sep 13 10:10:15 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000590.html">[fetchmail-users] query state=2 (SOCKET)
</A></li>
        <LI>Next message: <A HREF="000592.html">[fetchmail-users] query state=2 (SOCKET)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#591">[ date ]</a>
              <a href="thread.html#591">[ thread ]</a>
              <a href="subject.html#591">[ subject ]</a>
              <a href="author.html#591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 9/12/06, Roberto Meyer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">roberto.s.meyer at gmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Still having problems with it, I decided to put tcpdump in action. The
</I>&gt;<i> problem is I don't really know much about it. I read the man pages and
</I>&gt;<i> understood a little about flags, etc. but don't know a lot of tcp/ip.
</I>&gt;<i>
</I>&gt;<i> I've attached the output of two connections triggered at the same time
</I>&gt;<i> for two different users through cron jobs. One of them was successful,
</I>&gt;<i> the other one failed with a socket, status=2 result.
</I>&gt;<i>
</I>&gt;<i> The command I issued was:
</I>&gt;<i> &quot;tcpdump -v -s1500 -i eth0 -n tcp port 110 -w /tmp/tcpdump.raw&quot;
</I>&gt;<i>
</I>&gt;<i> I've attached the 'text' version of it which I rescued through
</I>&gt;<i> &quot;tcpdump -r /tmp/tcpdump.raw&quot;
</I>
Separating the 2 is, sadly, not possible.  If you could capture one
working run and one failed run then I *may* be able to help work out
what's going wrong.  It would help to have the binary pcap of the
failed run, though obviously you'd need to change passwords
immediately afterwards (or before and after) for security reasons.

I still think you'll get some information from a simple telnet.  That
at least will confirm that it's not fetchmail that's at fault.  Worth
noting that things like ECN can cause problems with remote mail
servers.

Can you provide the output of &quot;ifconfig eth0&quot; (feel free to mangle MAC
and IP addresses) and &quot;cat /proc/sys/net/ipv4/tcp_ecn&quot;?

-- 
                 Please keep list traffic on the list.

Rob MacGregor
      Whoever fights monsters should see to it that in the process he
        doesn't become a monster.                  Friedrich Nietzsche

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000590.html">[fetchmail-users] query state=2 (SOCKET)
</A></li>
	<LI>Next message: <A HREF="000592.html">[fetchmail-users] query state=2 (SOCKET)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#591">[ date ]</a>
              <a href="thread.html#591">[ thread ]</a>
              <a href="subject.html#591">[ subject ]</a>
              <a href="author.html#591">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
