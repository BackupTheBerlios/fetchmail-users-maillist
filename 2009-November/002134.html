<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] fetchmail fails to detect actual recipient
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20fails%20to%20detect%20actual%20recipient&In-Reply-To=%3Ce41394ce0911080443x546b1778k5cd053953fb5bd8f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002133.html">
   <LINK REL="Next"  HREF="002135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] fetchmail fails to detect actual recipient</H1>
    <B>W Marifosque</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20fails%20to%20detect%20actual%20recipient&In-Reply-To=%3Ce41394ce0911080443x546b1778k5cd053953fb5bd8f%40mail.gmail.com%3E"
       TITLE="[fetchmail-users] fetchmail fails to detect actual recipient">wim1036 at gmail.com
       </A><BR>
    <I>Sun Nov  8 13:43:46 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002133.html">[fetchmail-users] fetchmail fails to detect actual recipient
</A></li>
        <LI>Next message: <A HREF="002135.html">[fetchmail-users] fetchmail fails to detect actual recipient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2134">[ date ]</a>
              <a href="thread.html#2134">[ thread ]</a>
              <a href="subject.html#2134">[ subject ]</a>
              <a href="author.html#2134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Nov 8, 2009 at 6:11 PM, Rob MacGregor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">rob.macgregor at gmail.com</A>&gt; wrote:
&gt;<i> On Sun, Nov 8, 2009 at 03:12, W Marifosque &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">wim1036 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Dear All,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have this peculiar problem with multidrop messages if the source is
</I>&gt;&gt;<i> from the googlegroups mailing list.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> For everyone's reference, here are the relevant fetchmailrc, message
</I>&gt;&gt;<i> headers and transaction log info. I'm using Fetchmail 6.3.6 in CentOS
</I>&gt;&gt;<i> 5.2.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ### fetchmailrc
</I>&gt;&gt;<i> -----------------------------------
</I>&gt;&gt;<i> set logfile /u1/log/fetchmail.log
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> set no bouncemail
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> poll pop3.mydomain.com proto pop3 localdomains mydomain.com envelope 1 Received
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160;&#160;&#160;&#160; user &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mailpool at mydomain.com</A>&quot; with pass &quot;12345678&quot; is * here expunge 10
</I>&gt;&gt;<i> -----------------------------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ### message Received headers
</I>&gt;&gt;<i> -----------------------------------
</I>&gt;&gt;<i> Received: from mydomain by accord.websitewelcome.com with local-bsmtp
</I>&gt;&gt;<i> (Exim 4.69)
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; (envelope-from
</I>&gt;&gt;<i> &lt;grbounce-MCDmzwUAAADWcZ4g5ZLNrX99TKSKZi-2=username=<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mydomain.com at googlegroups.com</A>&gt;)
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; id 1N2zOU-0002HB-JO
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; for <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mailpool at mydomain.com</A>; Tue, 27 Oct 2009 22:40:18 -0500
</I>&gt;&gt;<i> X-Spam-Checker-Version: SpamAssassin 3.3.0-r613124 (2008-01-18) on
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; accord.websitewelcome.com
</I>&gt;&gt;<i> X-Spam-Level: ***
</I>&gt;&gt;<i> X-Spam-Status: No, score=3.4 required=5.0 tests=AWL,FORGED_MUA_OUTLOOK,
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; HTML_MESSAGE,SPF_PASS shortcircuit=no autolearn=disabled
</I>&gt;&gt;<i> version=3.3.0-r613124
</I>&gt;&gt;<i> Received: from mail-pw0-f66.google.com ([209.85.160.66]:60502)
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; by accord.websitewelcome.com with esmtp (Exim 4.69)
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; (envelope-from
</I>&gt;&gt;<i> &lt;grbounce-MCDmzwUAAADWcZ4g5ZLNrX99TKSKZi-2=username=<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">mydomain.com at googlegroups.com</A>&gt;)
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; id 1N2zOU-0002Gy-EE
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; for <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">username at mydomain.com</A>; Tue, 27 Oct 2009 22:40:18 -0500
</I>&gt;&gt;<i> Received: by pwj11 with SMTP id 11so144144pwj.5
</I>&gt;&gt;<i> &#160;&#160;&#160;&#160; for &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">username at mydomain.com</A>&gt;; Tue, 27 Oct 2009 20:40:19 -0700 (PDT)
</I>&gt;<i>
</I>&gt;<i> Try using the third Received header instead of the second.
</I>&gt;<i>
</I>
Unfortunately I can't do that because not all messages have a third
Received header. I saw messages from other sources having just two. If
there is a third, most do not have the 'for' recipient info specially
those not coming from googlegroups. The only consistent header
containing the actual recipient info is the second.

Is it possible to check the recipient address after the 'for' or will
it be a major code change for developers to implement?

My ISP/EMail host is limiting me to look into the Received headers
because of the way it is depositing messages into the multidrop
account.

Thanks.

Willie

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002133.html">[fetchmail-users] fetchmail fails to detect actual recipient
</A></li>
	<LI>Next message: <A HREF="002135.html">[fetchmail-users] fetchmail fails to detect actual recipient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2134">[ date ]</a>
              <a href="thread.html#2134">[ thread ]</a>
              <a href="subject.html#2134">[ subject ]</a>
              <a href="author.html#2134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
