<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] &quot;retained&quot; in fetchmail log
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2013-February/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20%22retained%22%20in%20fetchmail%20log&In-Reply-To=%3C512FD477.6000107%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003357.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] &quot;retained&quot; in fetchmail log</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20%22retained%22%20in%20fetchmail%20log&In-Reply-To=%3C512FD477.6000107%40gmx.de%3E"
       TITLE="[fetchmail-users] &quot;retained&quot; in fetchmail log">matthias.andree at gmx.de
       </A><BR>
    <I>Thu Feb 28 23:04:39 CET 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="003357.html">[fetchmail-users] &quot;retained&quot; in fetchmail log
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3358">[ date ]</a>
              <a href="thread.html#3358">[ thread ]</a>
              <a href="subject.html#3358">[ subject ]</a>
              <a href="author.html#3358">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 28.02.2013 12:44, schrieb Pierre Frenkiel:
&gt;<i> On Tue, 26 Feb 2013, Matthias Andree wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Now, if you forward the message bearing the X-IMAP header to an account
</I>&gt;&gt;<i> with empty mailbox, so that it happens to be the first message in the
</I>&gt;&gt;<i> mailbox there, fetchmail will retain it; so in the end, this may also be
</I>&gt;&gt;<i> an artifact of the way you are testing.
</I>&gt;<i> 
</I>&gt;<i>   the message I forwarded didn't have the X-IMAP header, so I suppose
</I>&gt;<i>   it was added by the software on the imap server.
</I>
Probably.

&gt;&gt;<i> then fetchmail retains the message.
</I>&gt;<i> 
</I>&gt;<i>   I still don't understand why it is not able to remove it,
</I>&gt;<i>   as
</I>&gt;<i>      1/ it knows it is a dummy mail
</I>&gt;<i>      2/ it actually removes (as requested in my .fetchmailrc) all mails
</I>
Fetchmail gives special treatment to this message (fetchmail does not
download the message), and in order not to lose the mailbox state saved
in this message, fetchmail does not delete the message.

Mailbox state contains UIDVALIDITY - if that gets bumped, all other
clients to the same IMAP server would re-download all remaining
messages, and the server might lose the &quot;last seen&quot; state, too. I'd need
to check the UWIMAP docs, but I don't currently care.

Arguably, if fetchmail knows that _all other_ messages have been
deleted, it could delete this folder internal data message because there
is no sensible mailbox state left.

Arguably, the server software could also hide this special message so
that clients do not need to bother with server's idiosyncrasies.

&gt;&gt;<i> - make sure that such a message is not the first in your mailbox.
</I>&gt;<i> 
</I>&gt;<i>    such a message IS PERMANENTLY in my LOCAL mailbox (in /var/mail), and
</I>&gt;<i>    that doesn't create any problem with any MUA.
</I>
I was thinking (but not writing) &quot;server-side mailbox&quot;. Sorry.

&gt;<i>    As I replied to Bob, I fixed ths issue by removing this header on
</I>&gt;<i>    the imap server with the webmail interface.
</I>
That would have been &quot;Rob&quot;.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003357.html">[fetchmail-users] &quot;retained&quot; in fetchmail log
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3358">[ date ]</a>
              <a href="thread.html#3358">[ thread ]</a>
              <a href="subject.html#3358">[ subject ]</a>
              <a href="author.html#3358">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
