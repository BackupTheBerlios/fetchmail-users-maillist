<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] SMTP error: 501: domain missing or malformed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20SMTP%20error%3A%20501%3A%20domain%20missing%20or%20malformed&In-Reply-To=%3C201102052148.51374.jmc-fetchmail%40milibyte.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002638.html">
   <LINK REL="Next"  HREF="002639.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] SMTP error: 501: domain missing or malformed</H1>
    <B>Mike Clarke</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20SMTP%20error%3A%20501%3A%20domain%20missing%20or%20malformed&In-Reply-To=%3C201102052148.51374.jmc-fetchmail%40milibyte.co.uk%3E"
       TITLE="[fetchmail-users] SMTP error: 501: domain missing or malformed">jmc-fetchmail at milibyte.co.uk
       </A><BR>
    <I>Sat Feb  5 22:48:51 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002638.html">[fetchmail-users] SMTP error: 501: domain missing or malformed
</A></li>
        <LI>Next message: <A HREF="002639.html">[fetchmail-users] SMTP error: 501: domain missing or malformed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2631">[ date ]</a>
              <a href="thread.html#2631">[ thread ]</a>
              <a href="subject.html#2631">[ subject ]</a>
              <a href="author.html#2631">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 05 February 2011, Rob MacGregor wrote:

&gt;<i> On Sat, Feb 5, 2011 at 10:19, Mike Clarke 
</I>&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">jmc-fetchmail at milibyte.co.uk</A>&gt; wrote:
&gt;<i> &gt; Recently I've been getting spam arriving with malformed From
</I>&gt;<i> &gt; addresses, like &lt;leslie@&gt;. Instead of collecting these messages
</I>&gt;<i> &gt; fetchmail just leaves them on the POP3 server and logs an error
</I>&gt;<i> &gt; message which gets repeated every 10 minutes when it tries to
</I>&gt;<i> &gt; collect mail. The only way I can get stop this is to use a webmail
</I>&gt;<i> &gt; interface to delete the offending messages.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Leaving these messages on the server indefinitely does not appear
</I>&gt;<i> &gt; to be the right approach. Is there any way to configure fetchmail
</I>&gt;<i> &gt; to either delete or accept them. If fetchmail were to accept them
</I>&gt;<i> &gt; they could then be dealt with by my spam filters.
</I>&gt;<i>
</I>&gt;<i> Please read the FAQ (<A HREF="http://fetchmail.berlios.de/fetchmail-FAQ.html">http://fetchmail.berlios.de/fetchmail-FAQ.html</A>)
</I>&gt;<i> which details the bug reporting process. This can be summarised as:
</I>&gt;<i>
</I>&gt;<i> 1. Ensure you're running the current release (6.3.19 at this time)
</I>&gt;<i> 2. Provide the details of:
</I>&gt;<i>  a. Your operating system.
</I>&gt;<i>  b. Your compiler version, if you built from source; otherwise, the
</I>&gt;<i> name and origin of the RPM or other binary package you installed.
</I>&gt;<i>  c. The name and version of the SMTP listener or MDA you are
</I>&gt;<i> forwarding to. d. Any command-line options you used.
</I>&gt;<i>  e. The output of env LC_ALL=C fetchmail -V called with whatever
</I>&gt;<i> other command-line options you used.
</I>&gt;<i>  f. The output of env LC_ALL=C fetchmail --nodetach -vvv --nosyslog
</I>&gt;<i> with whatever other command-line options you use routinely.
</I>
Thanks, the above checklist focused my brain in the correct direction.

Looks like it's not a fetchmail issue anyway. I'm using fetchmail to 
collect mail with POP3 from an ISP running qmail which happily accepts 
mail from recipients with malformed From headers. Fetchmail then passes 
the mail to exim on my PC using SMTP. Exim is more particular and 
refuses the message.

Turning off sender verification in exim would probably be unwise but I 
suppose I could stop this happening if I set no softbounce in 
fetchmailrc. I note the man page advises only doing this if the  
configuration has been thoroughly tested so I'm a bit hesitant even 
though this fetchmail setup has been running without any problem for 
the last few years.
                                       
-- 
Mike Clarke

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002638.html">[fetchmail-users] SMTP error: 501: domain missing or malformed
</A></li>
	<LI>Next message: <A HREF="002639.html">[fetchmail-users] SMTP error: 501: domain missing or malformed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2631">[ date ]</a>
              <a href="thread.html#2631">[ thread ]</a>
              <a href="subject.html#2631">[ subject ]</a>
              <a href="author.html#2631">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
