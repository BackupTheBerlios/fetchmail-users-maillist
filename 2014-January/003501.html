<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] Lost in SSL certificate trouble
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2014-January/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Lost%20in%20SSL%20certificate%20trouble&In-Reply-To=%3C52EAB2D5.6080104%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003498.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] Lost in SSL certificate trouble</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Lost%20in%20SSL%20certificate%20trouble&In-Reply-To=%3C52EAB2D5.6080104%40gmx.de%3E"
       TITLE="[fetchmail-users] Lost in SSL certificate trouble">matthias.andree at gmx.de
       </A><BR>
    <I>Thu Jan 30 21:15:17 CET 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="003498.html">[fetchmail-users] Lost in SSL certificate trouble
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3501">[ date ]</a>
              <a href="thread.html#3501">[ thread ]</a>
              <a href="subject.html#3501">[ subject ]</a>
              <a href="author.html#3501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 29.01.2014 05:06, schrieb <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">commsoft at blaettner-net.de</A>:
&gt;<i> Hi, all,
</I>&gt;<i> 
</I>&gt;<i> since over 12 years I'm using fetchmail to poll a bunch of mail
</I>&gt;<i> accounts at different providers using POP3.
</I>&gt;<i> 
</I>&gt;<i> I've successfully compiled and used versions fetchmail-5.9.11,
</I>&gt;<i> fetchmail-5.9.12, fetchmail-5.9.13, Fetchmail-6.3.9, and
</I>&gt;<i> Fetchmail-6.3.26 on various versions of Linux.  I'm also
</I>&gt;<i> subscribed to the fetchmail mailing lists - upon now as reader
</I>&gt;<i> only.
</I>&gt;<i> 
</I>&gt;<i> So, I could claim NOT to be a newbie in respect to fetchmail, and
</I>&gt;<i> I here say a big THANK YOU for all the efforts in maintaining
</I>&gt;<i> and developing this program.
</I>&gt;<i> 
</I>&gt;<i> BUT, I'm a total newbie in respect of SSL :-(
</I>&gt;<i> 
</I>&gt;<i> A couple of weeks ago, one of my providers made SSL mandatory
</I>&gt;<i> and I (think) I got it for this one.
</I>&gt;<i> 
</I>&gt;<i> But now, another provider makes SSL mandatory too and I'm in
</I>&gt;<i> big trouble, since it doesn't work :-(
</I>&gt;<i> 
</I>&gt;<i> I've read the README.SSL and I also visited the mentioned
</I>&gt;<i> openssl website hoping to download certificates.  But they
</I>&gt;<i> now claim NOT to provide certificates any more.
</I>&gt;<i> 
</I>&gt;<i> Now I'm a bit confused :-(
</I>&gt;<i> 
</I>&gt;<i> The only change of my setup, was to insert  keyword 'ssl'
</I>&gt;<i> into my .fetchmailrc file.  I noticed, that fetchmail now
</I>&gt;<i> tries to poll via port 995 (the provider's docu also tells
</I>&gt;<i> to use this port) - without ssl port 110 was polled.
</I>&gt;<i> 
</I>&gt;<i> I'm NOT sure whether it's a problem with their serverside
</I>&gt;<i> software or whether I should provide any sort of local
</I>&gt;<i> certificate - and in the latter case: how to do this..
</I>&gt;<i> 
</I>&gt;<i> My question: What to do next ?  
</I>&gt;<i> 
</I>&gt;<i> Here the info/files (a bit obfuscated) You may need to give
</I>&gt;<i> me any helpful hints:
</I>&gt;<i> 
</I>&gt;&gt;<i> === f-V.txt ==========================================
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is fetchmail release 6.3.26+SSL+NLS.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Copyright (C) 2002, 2003 Eric S. Raymond
</I>&gt;&gt;<i> Copyright (C) 2004 Matthias Andree, Eric S. Raymond,
</I>&gt;&gt;<i>                    Robert M. Funk, Graham Wilson
</I>&gt;&gt;<i> Copyright (C) 2005 - 2012 Sunil Shetye
</I>&gt;&gt;<i> Copyright (C) 2005 - 2013 Matthias Andree
</I>&gt;&gt;<i> Fetchmail comes with ABSOLUTELY NO WARRANTY. This is free software, and you
</I>&gt;&gt;<i> are welcome to redistribute it under certain conditions. For details,
</I>&gt;&gt;<i> please see the file COPYING in the source or documentation directory.
</I>&gt;&gt;<i> This product includes software developed by the OpenSSL Project
</I>&gt;&gt;<i> for use in the OpenSSL Toolkit. (<A HREF="http://www.openssl.org/">http://www.openssl.org/</A>)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Fallback MDA: (none)
</I>&gt;&gt;<i> Linux MYMACHINE 2.6.27.7-9-pae #1 SMP 2008-12-04 18:10:04 +0100 i686 i686 i386 GNU/Linux
</I>&gt;&gt;<i> Taking options from command line
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> === .fetchmailrc.new.nokill.WEBB =====================
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 	set idfile /home/Fetchmail/Id/.fetchids.WEBB
</I>&gt;&gt;<i> 	set postmaster=webm-bla
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> poll pop3.PROVIDER-1.de
</I>&gt;&gt;<i> 	proto pop3
</I>&gt;&gt;<i> 	no dns
</I>&gt;&gt;<i> 	uidl
</I>&gt;&gt;<i> 	tracepolls
</I>&gt;&gt;<i> 	auth password
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 	user <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">webmaster at MYDOMAIN.de</A> is webm-bla
</I>&gt;&gt;<i> 	pass TOPSECRET
</I>&gt;&gt;<i> 	ssl
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 	keep
</I>&gt;&gt;<i> 	nofetchall
</I>&gt;&gt;<i> 	norewrite
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> === cmd.fm ===========================================
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> fetchmail -v --fetchlimit 0 -c -f /home/Fetchmail/Rc/.fetchmailrc.new.nokill.WEBB &gt;&amp; fm-c.log.3
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> === fm-c.log.3 =======================================
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> fetchmail: --check mode enabled, not fetching mail
</I>&gt;&gt;<i> fetchmail: 6.3.26 querying pop3.PROVIDER-1.de (protocol POP3) at Tue 28 Jan 2014 07:52:26 PM CET: poll started
</I>&gt;&gt;<i> Trying to connect to 22.222.222.222/995...connected.
</I>&gt;&gt;<i> fetchmail: Server certificate verification error: unable to get local issuer certificate
</I>&gt;&gt;<i> fetchmail: Broken certification chain at: /C=DE/O=Deutsche Telekom AG/OU=T-TeleSec Trust Center/CN=Deutsche Telekom Root CA 2
</I>
So this (after CN= at the end) is the root certificate you need to
install.  Depending on your distribution there is a package with
Mozilla's collection of root certificates - just installing that package
should fix the problem.

Typical package names are:

ca-certificates (Ubuntu 12.04, Fedora 20)
ca-certificates-mozilla (openSUSE)
ca_root_nss (FreeBSD ports)

Other than that, you can download the certificate from
&lt;<A HREF="http://www.telesec.de/pki/roots.html">http://www.telesec.de/pki/roots.html</A>&gt;.


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003498.html">[fetchmail-users] Lost in SSL certificate trouble
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3501">[ date ]</a>
              <a href="thread.html#3501">[ thread ]</a>
              <a href="subject.html#3501">[ subject ]</a>
              <a href="author.html#3501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
