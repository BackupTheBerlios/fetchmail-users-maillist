<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Problem%20fetching%3A%20%22AUTHFAIL%22&In-Reply-To=%3C205306D36D9DF646884C6E840332DB180BF9E7986E%40rcav-ex01%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002447.html">
   <LINK REL="Next"  HREF="002449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;</H1>
    <B>Alan Murrell</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Problem%20fetching%3A%20%22AUTHFAIL%22&In-Reply-To=%3C205306D36D9DF646884C6E840332DB180BF9E7986E%40rcav-ex01%3E"
       TITLE="[fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;">amurrell at rcav.bc.ca
       </A><BR>
    <I>Wed Aug 18 18:58:00 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="002447.html">[fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;
</A></li>
        <LI>Next message: <A HREF="002449.html">[fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2448">[ date ]</a>
              <a href="thread.html#2448">[ thread ]</a>
              <a href="subject.html#2448">[ subject ]</a>
              <a href="author.html#2448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK, so I now have fetchmail 6.3.17 installed.  Followjg section G3 of the FAQ, here is the current system/environment:

  1.) Operating System: Debian Linux, &quot;Lenny&quot;
  2.) N/A (installed form package)
  3.) MDA: rt-mailgate-3.6 (version 3.6, for &quot;Request Tracker&quot;)
  4.) Fetchmail run as a daemon from startup script; not sure of startup options other than running as a &quot;daemon&quot;.  &quot;/etc/fetchmailconf&quot; file already posted in previous message
  5.) For output of &quot;env LC_ALL=C fetchmail -V&quot; with command line options, see below
  6.) For output of &quot;env LC_ALL=C fetchmail --nodetach -vvv --nosyslog&quot; with the same command line options I did for #5, please see below.

--- env LC_ALL=C fetchmail -V ---
<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">fetchmail at rt</A>:~$ env LC_ALL=C fetchmail -V -c -p POP3 -u support secure.rcav.bc.ca
This is fetchmail release 6.3.17+GSS+NTLM+SDPS+SSL+NLS+KRB5.

Copyright (C) 2002, 2003 Eric S. Raymond
Copyright (C) 2004 Matthias Andree, Eric S. Raymond,
                   Robert M. Funk, Graham Wilson
Copyright (C) 2005 - 2006, 2010 Sunil Shetye
Copyright (C) 2005 - 2010 Matthias Andree
Fetchmail comes with ABSOLUTELY NO WARRANTY. This is free software, and you
are welcome to redistribute it under certain conditions. For details,
please see the file COPYING in the source or documentation directory.

Fallback MDA: (none)
Linux rt.rcav.bc.ca 2.6.26-2-686 #1 SMP Mon Jun 21 05:58:44 UTC 2010 i686 GNU/Linux
Taking options from command line
Idfile is /var/lib/fetchmail/.fetchids
Fetchmail will forward misaddressed multidrop messages to fetchmail.
Options for retrieving from <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">support at secure.rcav.bc.ca</A>:
  Mail will be retrieved via secure.rcav.bc.ca
  True name of server is secure.rcav.bc.ca.
  Password will be prompted for.
  Protocol is POP3.
  All available authentication methods will be tried.
  Server nonresponse timeout is 300 seconds (default).
  Default mailbox selected.
  Only new messages will be retrieved (--all off).
  Fetched messages will not be kept on the server (--keep off).
  Old messages will not be flushed before message retrieval (--flush off).
  Oversized messages will not be flushed before message retrieval (--limitflush off).
  Rewrite of server-local addresses is enabled (--norewrite off).
  Carriage-return stripping is disabled (stripcr off).
  Carriage-return forcing is disabled (forcecr off).
  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).
  MIME decoding is disabled (mimedecode off).
  Idle after poll is disabled (idle off).
  Nonempty Status lines will be kept (dropstatus off)
  Delivered-To lines will be kept (dropdelivered off)
  Fetch message size limit is 100 (--fetchsizelimit 100).
  Do binary search of UIDs during 3 out of 4 polls (--fastuidl 4).
  Messages will be SMTP-forwarded to: localhost (default)
  Single-drop mode: 1 local name recognized.
  No UIDs saved from this host.
--- END ---



--- env LC_ALL=C fetchmail --nodetach -vvv --nosyslog ---
<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">fetchmail at rt</A>:~$ env LC_ALL=C fetchmail -c --nodetach -vvv --nosyslog -p POP3 -u support secure.rcav.bc.ca
Old UID list from secure.rcav.bc.ca: &lt;empty&gt;
Scratch list of UIDs: &lt;empty&gt;
Enter password for <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">support at secure.rcav.bc.ca</A>:
fetchmail: --check mode enabled, not fetching mail
fetchmail: 6.3.17 querying secure.rcav.bc.ca (protocol POP3) at Wed Aug 18 09:41:25 2010: poll started
Trying to connect to 174.6.160.250/110...connected.
fetchmail: POP3&lt; +OK The Microsoft Exchange POP3 service is ready.
fetchmail: POP3&gt; CAPA
fetchmail: POP3&lt; +OK
fetchmail: POP3&lt; TOP
fetchmail: POP3&lt; UIDL
fetchmail: POP3&lt; SASL NTLM GSSAPI PLAIN
fetchmail: POP3&lt; USER
fetchmail: POP3&lt; STLS
fetchmail: POP3&lt; .
fetchmail: POP3&gt; STLS
fetchmail: POP3&lt; +OK Begin TLS negotiation.
fetchmail: Certificate chain, from root to peer, starting at depth 1:
fetchmail: Issuer Organization: The Go Daddy Group, Inc.
fetchmail: Unknown Issuer CommonName
fetchmail: Subject CommonName: Go Daddy Secure Certification Authority
fetchmail: Server certificate verification error: unable to get local issuer certificate
fetchmail: This means that the root signing certificate (issued for /C=US/ST=Arizona/L=Scottsdale/O=GoDaddy.com, Inc./OU=<A HREF="http://certificates.godaddy.com/repository/CN=Go">http://certificates.godaddy.com/repository/CN=Go</A> Daddy Secure Certification Authority/serialNumber=07969287) is not in the trusted CA certificate locations, or that c_rehash needs to be run on the certificate directory. For details, please see the documentation of --sslcertpath and --sslcertfile in the manual page.
fetchmail: Certificate at depth 1:
fetchmail: Issuer Organization: The Go Daddy Group, Inc.
fetchmail: Unknown Issuer CommonName
fetchmail: Subject CommonName: Go Daddy Secure Certification Authority
fetchmail: Server certificate verification error: certificate not trusted
fetchmail: Server certificate:
fetchmail: Issuer Organization: GoDaddy.com, Inc.
fetchmail: Issuer CommonName: Go Daddy Secure Certification Authority
fetchmail: Subject CommonName: secure.rcav.bc.ca
fetchmail: Subject Alternative Name: secure.rcav.bc.ca
fetchmail: Subject Alternative Name: www.secure.rcav.bc.ca
fetchmail: secure.rcav.bc.ca key fingerprint: 8F:32:03:1C:86:6F:4D:FA:DF:81:53:64:3C:81:A8:DC
fetchmail: Warning: the connection is insecure, continuing anyways. (Better use --sslcertck!)
fetchmail: POP3&gt; CAPA
fetchmail: POP3&lt; +OK
fetchmail: POP3&lt; TOP
fetchmail: POP3&lt; UIDL
fetchmail: POP3&lt; SASL NTLM GSSAPI PLAIN
fetchmail: POP3&lt; USER
fetchmail: POP3&lt; .
fetchmail: secure.rcav.bc.ca: upgrade to TLS succeeded.
fetchmail: Using service name [<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">pop at secure.rcav.bc.ca</A>]
fetchmail: POP3&gt; AUTH GSSAPI
fetchmail: POP3&lt; +
fetchmail: Sending credentials
fetchmail: Error exchanging credentials
fetchmail: POP3&lt; + YGoGBisGAQUFAqBgMF6gMDAuBgkqhkiC9xIBAgIGCSqGSIb3EgECAgYKKoZIhvcSAQICAwYKKwYBBAGCNwICCqMqMCigJhskbm90X2RlZmluZWRfaW5fUkZDNDE3OEBwbGVhc2VfaWdub3Jl
fetchmail: POP3&gt; USER support
fetchmail: POP3&lt; -ERR Logon failure: unknown user name or bad password.
fetchmail: Logon failure: unknown user name or bad password.
fetchmail: Authorization failure on <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">support at secure.rcav.bc.ca</A>
fetchmail: POP3&gt; QUIT
fetchmail: POP3&lt; +OK Microsoft Exchange Server 2007 POP3 server signing off.
fetchmail: 6.3.17 querying secure.rcav.bc.ca (protocol POP3) at Wed Aug 18 09:41:45 2010: poll completed
Merged UID list from secure.rcav.bc.ca: &lt;empty&gt;
fetchmail: normal termination, status 3
--- END ---

Also, per Robert McGregor's suggestion, I had already followed FAQ section &quot;K5&quot; and &quot;disabled&quot; TLS by adding &quot;sslproto ssl23&quot; in the 'fetchmailrc&quot; file, but that did not help either; the same error as above still appears, though without the mention of &quot;AUTH GSSAPI&quot; or the &quot;TLS negotiation&quot;.

With regards to SSL, there is an SSL certificate on the server for Outlook Web Access, but I am accessing the POP server on port 110 and not the POP3 SSL port; and this has worked in the current configuration until some time on the weekend, would be my best guess.  I can also use telnet on th server to port 110 and log in with the credentials no problem.

Other things I have done to troubleshoot:

  - changed the credentials to my own; same issue
  - changed the config to point to another of my accounts on a different server (which is running Exchange 2003); it logs in and checks the emails just fine

My conclusion is that it has something to interacting with Exchange 2007, but I do not know what.  There were some Exchange Server updates done over the weekend, but I cannot confidently say that that is the cause, though the timing is indeed interesting.

Thanks again.

-Alan


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002447.html">[fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;
</A></li>
	<LI>Next message: <A HREF="002449.html">[fetchmail-users] Problem fetching: &quot;AUTHFAIL&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2448">[ date ]</a>
              <a href="thread.html#2448">[ thread ]</a>
              <a href="subject.html#2448">[ subject ]</a>
              <a href="author.html#2448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
