<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] fetchmail bad header problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20bad%20header%20problem&In-Reply-To=%3C20110803193234.00000cde%40unknown%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002884.html">
   <LINK REL="Next"  HREF="002886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] fetchmail bad header problem</H1>
    <B>Dirk Schleicher</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20bad%20header%20problem&In-Reply-To=%3C20110803193234.00000cde%40unknown%3E"
       TITLE="[fetchmail-users] fetchmail bad header problem">dirk.schleicher at gmx.de
       </A><BR>
    <I>Wed Aug  3 19:32:34 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="002884.html">[fetchmail-users] fetchmail bad header problem
</A></li>
        <LI>Next message: <A HREF="002886.html">[fetchmail-users] fetchmail bad header problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2885">[ date ]</a>
              <a href="thread.html#2885">[ thread ]</a>
              <a href="subject.html#2885">[ subject ]</a>
              <a href="author.html#2885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>am 03.08.11 schrieb Matthias Andree

&gt;&gt;<i> I still have this problem.
</I>
Yes, I still have the problem.

&gt;<i>And you still haven't provided meaningful logs that show the transcript
</I>&gt;<i>of a message transport attempt that brings up the alleged &quot;bad header&quot;
</I>&gt;<i>problem either.
</I>

.fetchmailrc

set daemon 300
set no syslog
set logfile &quot;/var/log/fetchmail.log&quot;
set postmaster &quot;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk at mail-proxy.lan</A>&quot;
set bouncemail
#set no spambounce
set properties &quot;&quot;
poll eids.de with proto POP3
        bad-header accept
        user '<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk.schleicher at eids.de</A>' there with password 'xxxx' is <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk at mail-proxy.lan</A> here nokeep
        options sslproto ssl23

/var/log/fetschmail.log
fetchmail: SMTP-Fehler: 501 5.1.7 Bad sender address syntax
fetchmail:  nicht gel&#246;scht
fetchmail: 1 Nachricht f&#252;r <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk.schleicher at eids.de</A> bei eids.de (1095 Bytes).
fetchmail: Nachricht <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk.schleicher at eids.de</A>@eids.de:1 von 1 wird gelesen (1095 Bytes) (Log-Meldung unvollst&#228;ndig)
fetchmail: SMTP-Fehler: 501 5.1.7 Bad sender address syntax
fetchmail:  nicht gel&#246;scht



$ LC_ALL=C /opt/fetchmailtest/bin/fetchmail -V
This is fetchmail release 6.3.20+SSL+NLS.

Copyright (C) 2002, 2003 Eric S. Raymond
Copyright (C) 2004 Matthias Andree, Eric S. Raymond,
                   Robert M. Funk, Graham Wilson
Copyright (C) 2005 - 2006, 2010 - 2011 Sunil Shetye
Copyright (C) 2005 - 2011 Matthias Andree
Fetchmail comes with ABSOLUTELY NO WARRANTY. This is free software, and you
are welcome to redistribute it under certain conditions. For details,
please see the file COPYING in the source or documentation directory.
This product includes software developed by the OpenSSL Project
for use in the OpenSSL Toolkit. (<A HREF="http://www.openssl.org/">http://www.openssl.org/</A>)

Fallback MDA: (none)
Linux mail-proxy 2.6.32-5-686 #1 SMP Wed May 18 07:08:50 UTC 2011 i686 GNU/Linux
Taking options from command line and /home/vmail/.fetchmailrc
Poll interval is 300 seconds
Logfile is /var/log/fetchmail.log
Idfile is /home/vmail/.fetchids
Fetchmail will forward misaddressed multidrop messages to <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk at mail-proxy.lan.</A>
Options for retrieving from <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk at eids.de</A>@eids.de:
  True name of server is eids.de.
  Protocol is POP3.
  All available authentication methods will be tried.
  SSL protocol: ssl23.
  Server nonresponse timeout is 300 seconds (default).
  Default mailbox selected.
  Only new messages will be retrieved (--all off).
  Fetched messages will not be kept on the server (--keep off).
  Old messages will not be flushed before message retrieval (--flush off).
  Oversized messages will not be flushed before message retrieval (--limitflush off).
  Rewrite of server-local addresses is enabled (--norewrite off).
  Carriage-return stripping is disabled (stripcr off).
  Carriage-return forcing is disabled (forcecr off).
  Interpretation of Content-Transfer-Encoding is enabled (pass8bits off).
  MIME decoding is disabled (mimedecode off).
  Idle after poll is disabled (idle off).
  Nonempty Status lines will be kept (dropstatus off)
  Delivered-To lines will be kept (dropdelivered off)
  Fetch message size limit is 100 (--fetchsizelimit 100).
  Do binary search of UIDs during 3 out of 4 polls (--fastuidl 4).
  Messages will be SMTP-forwarded to: localhost (default)
  Single-drop mode: 1 local name recognized.
  No UIDs saved from this host.
  Messages with bad headers will be passed on.

env LC_ALL=C /opt/fetchmailtest/bin/fetchmail --nodetach -vvv --nosyslog
same like the old.

/var/log/mail.log
Aug  3 19:17:19 mail-proxy postfix/smtpd[26405]: connect from localhost[127.0.0.1]
Aug  3 19:17:19 mail-proxy postfix/smtpd[26405]: warning: Illegal address syntax from localhost[127.0.0.1] in MAIL command: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">Martina at pdpfqtcgpdqyciphqeggp.</A>{SPF_D1}&gt;
Aug  3 19:17:19 mail-proxy postfix/smtpd[26407]: connect from localhost[127.0.0.1]
Aug  3 19:17:19 mail-proxy postfix/smtpd[26407]: warning: Illegal address syntax from localhost[127.0.0.1] in RCPT command: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">Martina at pdpfqtcgpdqyciphqeggp.</A>{SPF_D1}&gt;
Aug  3 19:17:19 mail-proxy postfix/cleanup[26408]: 8EA3E11AA31: message-id=&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">20110803171719.8EA3E11AA31 at mail-proxy.lan</A>&gt;
Aug  3 19:17:19 mail-proxy postfix/smtpd[26407]: disconnect from localhost[127.0.0.1]
Aug  3 19:17:19 mail-proxy postfix/qmgr[9863]: 8EA3E11AA31: from=&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">double-bounce at mail-proxy.lan</A>&gt;, size=713, nrcpt=2 (queue active)
Aug  3 19:17:19 mail-proxy postfix/cleanup[26408]: 9F73011AA32: message-id=&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">20110803171719.9F73011AA32 at mail-proxy.lan</A>&gt;
Aug  3 19:17:19 mail-proxy postfix/smtpd[26405]: disconnect from localhost[127.0.0.1]
Aug  3 19:17:19 mail-proxy postfix/qmgr[9863]: 9F73011AA32: from=&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">double-bounce at mail-proxy.lan</A>&gt;, size=899, nrcpt=2 (queue active)
Aug  3 19:17:19 mail-proxy postfix/pipe[26409]: 8EA3E11AA31: to=&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">dirk at mail-proxy.lan</A>&gt;, orig_to=&lt;postmaster&gt;, relay=dovecot, delay=0.21, delays=0.09/0.05/0/0.07, dsn=2.0.0, status=sent (delivered via dovecot service)
Aug  3 19:17:19 mail-proxy postfix/pipe[26410]: 8EA3E11AA31: to=&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">postmaster at mail-proxy.lan</A>&gt;, orig_to=&lt;postmaster&gt;, relay=dovecot, delay=0.26, delays=0.09/0.08/0/0.09, dsn=2.0.0, status=sent (delivered via dovecot service)
Aug  3 19:17:19 mail-proxy postfix/qmgr[9863]: 8EA3E11AA31: removed

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002884.html">[fetchmail-users] fetchmail bad header problem
</A></li>
	<LI>Next message: <A HREF="002886.html">[fetchmail-users] fetchmail bad header problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2885">[ date ]</a>
              <a href="thread.html#2885">[ thread ]</a>
              <a href="subject.html#2885">[ subject ]</a>
              <a href="author.html#2885">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
