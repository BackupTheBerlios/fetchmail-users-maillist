<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] Exit Codes, a script and daemon
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2006-January/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Exit%20Codes%2C%20a%20script%20and%20daemon&In-Reply-To=%3C43D2CD76.8070506%40racemouse.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000259.html">
   <LINK REL="Next"  HREF="000261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] Exit Codes, a script and daemon</H1>
    <B>fink</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Exit%20Codes%2C%20a%20script%20and%20daemon&In-Reply-To=%3C43D2CD76.8070506%40racemouse.net%3E"
       TITLE="[fetchmail-users] Exit Codes, a script and daemon">fink at racemouse.net
       </A><BR>
    <I>Sun Jan 22 01:10:30 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000259.html">[fetchmail-users] Exit Codes, a script and daemon
</A></li>
        <LI>Next message: <A HREF="000261.html">[fetchmail-users] Exit Codes, a script and daemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#260">[ date ]</a>
              <a href="thread.html#260">[ thread ]</a>
              <a href="subject.html#260">[ subject ]</a>
              <a href="author.html#260">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I would like Fetchmail to check my mailserver periodically for new mail.

I created a small script which just needs one argument (the exit code
from fetchmail):

if [ $1  = 1]
then
  echo 1 &gt; /proc/acpi/asus/mled
else
  echo 0 &gt; /proc/acpi/asus/mled
fi
exit

The trouble is now how to get the exit code passed to the script:
When fetchmail is running deamonised it never returns and thus the exit
code does not exist.

Is it possible in some odd way to pass the result of the fechmail mail
check to the program called by the &quot;postconnect&quot; command ?

The idea I had was something like this:

[poll SERVERNAME with proto IMAP user 'USER' password 'PASSWD'
postconnect '/usr/bin/servicemled $?']

Cheers
RaceMouse


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000259.html">[fetchmail-users] Exit Codes, a script and daemon
</A></li>
	<LI>Next message: <A HREF="000261.html">[fetchmail-users] Exit Codes, a script and daemon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#260">[ date ]</a>
              <a href="thread.html#260">[ thread ]</a>
              <a href="subject.html#260">[ subject ]</a>
              <a href="author.html#260">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
