<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] fetchmail only skipping seen messages when there are no unseen ones on imap
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20only%20skipping%20seen%20messages%20when%20there%20are%20no%20unseen%20ones%0A%20on%20imap&In-Reply-To=%3C4229FA87.3010702%40uebber.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] fetchmail only skipping seen messages when there are no unseen ones on imap</H1>
    <B>Christian Uebber</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20fetchmail%20only%20skipping%20seen%20messages%20when%20there%20are%20no%20unseen%20ones%0A%20on%20imap&In-Reply-To=%3C4229FA87.3010702%40uebber.de%3E"
       TITLE="[fetchmail-users] fetchmail only skipping seen messages when there are no unseen ones on imap">briefkasten at uebber.de
       </A><BR>
    <I>Sat Mar  5 19:29:27 CET 2005</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000021.html">[fetchmail-users] Re: fetchmail only skipping seen messages when there are no unseen ones on imap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20">[ date ]</a>
              <a href="thread.html#20">[ thread ]</a>
              <a href="subject.html#20">[ subject ]</a>
              <a href="author.html#20">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Hello,

fetchmail does not skip seen messages on my imap server:

fetchmail: starting fetchmail 6.2.5 daemon
fetchmail: 5 messages for abcdefg at imap.1und1.de.
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:1 of 5 (1565 header 
octets) fetchmail:  (924 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:2 of 5 (1303 header 
octets) fetchmail:  (7 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:3 of 5 (1279 header 
octets) fetchmail:  (2150 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:4 of 5 (1077 header 
octets) fetchmail:  (2876 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:5 of 5 (1288 header 
octets) fetchmail:  (7 body octets) fetchmail:  not flushed
fetchmail: sleeping at Fri Mar  4 19:06:47 2005

It is strange everything works as soon as I manually remove the 'seen' 
flag of one or more messages using Mulberry:

fetchmail: awakened at Fri Mar  4 19:07:17 2005
fetchmail: 5 messages (4 seen) for abcdefg at imap.1und1.de.
fetchmail: skipping message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:1 not flushed
fetchmail: skipping message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:2 not flushed
fetchmail: skipping message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:3 not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:4 of 5 (1077 header 
octets) fetchmail:  (2876 body octets) fetchmail:  not flushed
fetchmail: skipping message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:5 not flushed
fetchmail: sleeping at Fri Mar  4 19:07:24 2005

After the next run, when fetchmail has flagged message #4 'seen', same 
behavior as before:

fetchmail: awakened at Fri Mar  4 19:07:54 2005
fetchmail: 5 messages for abcdefg at imap.1und1.de.
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:1 of 5 (1565 header 
octets) fetchmail:  (924 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:2 of 5 (1303 header 
octets) fetchmail:  (7 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:3 of 5 (1279 header 
octets) fetchmail:  (2150 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:4 of 5 (1077 header 
octets) fetchmail:  (2876 body octets) fetchmail:  not flushed
fetchmail: reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-users">abcdefg at imap.1und1.de</A>:5 of 5 (1288 header 
octets) fetchmail:  (7 body octets) fetchmail:  not flushed
fetchmail: sleeping at Fri Mar  4 19:08:21 2005

System:   Debian Sarge

Package:   Plain Deb

Imap-Server:

S: * OK IMAP server ready H mimap4
C: C01 CAPABILITY
S: * CAPABILITY ACL CHILDREN ID IDLE IMAP4 IMAP4rev1 LITERAL+ 
LOGIN-REFERRALS MAILBOX-REFERRALS NAMESPACE UIDPLUS QUOTA STARTTLS 
AUTH=PLAIN AUTH=LOGIN
S: C01 OK CAPABILITY completed
C: A01 AUTHENTICATE PLAIN
S: +

cat /etc/fetchmailrc:

set daemon 30
set logfile /var/log/fetchmail.log
poll imap.1und1.de protocol imap
       username &quot;abcdefg&quot;
       password &quot;hijklmn&quot;
       no rewrite
       keep
       mda /usr/bin/procmail;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000021.html">[fetchmail-users] Re: fetchmail only skipping seen messages when there are no unseen ones on imap
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20">[ date ]</a>
              <a href="thread.html#20">[ thread ]</a>
              <a href="subject.html#20">[ subject ]</a>
              <a href="author.html#20">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
