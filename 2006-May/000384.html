<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-users] Mails lost due to --flush option ?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-users/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Mails%20lost%20due%20to%20--flush%20option%20%3F&In-Reply-To=%3C445F2217.1020406%40wowcompany.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000383.html">
   <LINK REL="Next"  HREF="000389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-users] Mails lost due to --flush option ?</H1>
    <B>Frederic Marchal</B> 
    <A HREF="mailto:fetchmail-users%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-users%5D%20Mails%20lost%20due%20to%20--flush%20option%20%3F&In-Reply-To=%3C445F2217.1020406%40wowcompany.com%3E"
       TITLE="[fetchmail-users] Mails lost due to --flush option ?">frederic.marchal at wowcompany.com
       </A><BR>
    <I>Mon May  8 12:48:55 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000383.html">[fetchmail-users] Re: fetchmail-users digest, Vol 1 #141 - 1 msg
</A></li>
        <LI>Next message: <A HREF="000389.html">[fetchmail-users] Mails lost due to --flush option ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#384">[ date ]</a>
              <a href="thread.html#384">[ thread ]</a>
              <a href="subject.html#384">[ subject ]</a>
              <a href="author.html#384">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I quote the man page of version 6.3.2:

       -F | --flush
              POP3/IMAP only.  Delete old (previously retrieved) 
messages from the mailserver before retrieving  new  mes-
              sages.  This  option  does  not  work  with ETRN or ODMR.  
Warning: if your local MTA hangs and fetchmail is
              aborted, the next time you run fetchmail, it will delete 
mail that was never delivered  to  you.   What  you
              probably  want  is  the default setting: if you don't 
specify `-k', then fetchmail will automatically delete
              messages after successful delivery.

Is it still true that a mail is lost if the MTA hangs  ? It sounds like 
a known bug and may have been fixed in the code but not in the man page.

I explain my situation: if the connection with the pop3 server drops, 
all the DELE commands are forgotten (as required by the pop3 protocol if 
I understand it right) and the mails reappear on the next poll. But 
since fetchmail knows about those messages, it ignores them and doesn't 
delete them either. They keep showing up in the UIDL at every poll and 
remain on the server until I delete them manually. The -F option solves 
this problem but I don't want to loose any mail.

Frederic


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000383.html">[fetchmail-users] Re: fetchmail-users digest, Vol 1 #141 - 1 msg
</A></li>
	<LI>Next message: <A HREF="000389.html">[fetchmail-users] Mails lost due to --flush option ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#384">[ date ]</a>
              <a href="thread.html#384">[ thread ]</a>
              <a href="subject.html#384">[ subject ]</a>
              <a href="author.html#384">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-users">More information about the fetchmail-users
mailing list</a><br>
</body></html>
